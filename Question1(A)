# Define the IC hashing function with (folding technique)
def ic_hash(ic_number: str, table_size: int) -> int:
    
    # Validate input which is exactly 12 digits and no dash aswell
    if len(ic_number) != 12 or not ic_number.isdigit():
        raise ValueError("IC number must be 12 digits (no dashes)")
    
    # Split the 12 digit of ic number to 3 group of 4 digits and sum all them 
    part1 = int(ic_number[0:4])  # First 4 digits(Year+Month)
    part2 = int(ic_number[4:8])  # Mid 4 digits  (Day+StateCode)
    part3 = int(ic_number[8:12]) # Last 4 digits (Serial+Gender)
    
    # Return the folded sum modulo table size
    return (part1 + part2 + part3) % table_size
